<!DOCTYPE html>
<html>
<body>
    <label for="myfile">Select a file:</label>
    <input type="file" id="fileIn" name="myfile" accept=".csv" onchange="parseMTGCollection()">
</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script>
    function parseMTGCollection() {
        fileIn = document.getElementById("fileIn");
        file = fileIn.files[0];

        if (file) {
            Papa.parse(file, {
                header: true,
                dynamicTyping: true,
                complete: function(results) {
                    fetch("Legal_Brawl_Commanders.json")
                    .then(response => response.json())
                    .then(json => {
                        var validCards = [];

                        json.data.forEach(card => {

                            for(i = 0; i < results.length; i++) {
                                console.log("Card 1: " + card.name + " Card 2: " + results[i].Card);

                                if (card.name === results[i].Card) {
                                    validCards.push(card.name);
                                }
                            }

                            /*results.forEach(col_card => {
                                console.log("Card 1: " + card.name + " Card 2: " + col_card.Card);

                                if (card.name === col_card.Card) {
                                    validCards.push(card.name);
                                }
                            });*/
                        });

                        console.log(validCards);
                    });
                }
            });
        }
    }
</script>

</html>